# Copyright 2016-2018 Arm Limited.
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

## Need to select the BUILDER_ for Bob
choice
	prompt "Builder"
	default BUILDER_ANDROID if ANDROID
	default BUILDER_LINUX

config BUILDER_LINUX
	bool "Linux"

config BUILDER_ANDROID
	bool "Android"

endchoice

## Select toolchain for Bob
choice
	prompt "Target toolchain"
	default TARGET_TOOLCHAIN_CLANG if ANDROID
	default TARGET_TOOLCHAIN_GNU

config TARGET_TOOLCHAIN_GNU
	bool "GNU"

config TARGET_TOOLCHAIN_CLANG
	bool "Clang"

config TARGET_TOOLCHAIN_ARM
	bool "ARM"

endchoice

## Toolchain prefix needed for Bob (for gcc)
config TARGET_GNU_TOOLCHAIN_PREFIX
	string
	default ""

## Various tools need to be defined for Bob
config PKG_CONFIG
	bool "PKG_CONFIG"

config TARGET_GNU_TOOLCHAIN_VERSION
	string "Version reported by the underlying GNU cross-compiler"
	depends on TARGET_TOOLCHAIN_CLANG
	default "4.9.1"

config CLANG_CC_BINARY
	string
	default "clang"

config CLANG_CXX_BINARY
	string
	default "clang++"

config TARGET_CLANG_TRIPLE
	string
	default "x86_64-linux-gnu"

config GNU_CC_BINARY
	string
	default "gcc"

config GNU_CXX_BINARY
	string
	default "g++"

config ARM_CC_BINARY
	string
	default "armclang"

config ARM_CXX_BINARY
	string
	default "armclang"

config ARM_LD_BINARY
	string
	default "armlink"

config ARM_AS_BINARY
	string
	default "armasm"

config ARM_AR_BINARY
	string
	default "armar"

config TARGET_ARM_FLAGS
	string
	default ""

config TARGET_GNU_FLAGS
	string
	default ""

config AR_BINARY
	string
	default "ar"

config AS_BINARY
	string
	default "as"

# Filled in by host_explore.py during the configuration step
config EXTRA_HOST_LDFLAGS
	string "Extra Host Linker options"

config EXTRA_TARGET_LDFLAGS
	string "Extra Target Linker options"

config EXTRA_LD_LIBRARY_PATH
	string "Extra LD_LIBRARY_PATH Entries"

## Bob needs sysroot for clang
config TARGET_SYSROOT
	string
	default ""

## Include this to allow us to test Bob host exploration if needed
config ALLOW_HOST_EXPLORE
	bool
	default y

## TEMPLATE_TEST_VALUE used in template testing
config TEMPLATE_TEST_VALUE
	int
	default 6

## LINUX and ANDROID used in resource testing
choice
	prompt "OS"
	default LINUX

config LINUX
	bool "Linux"

config ANDROID
	bool "Android"

endchoice

## DEBUG and NDEBUG used in property testing
config DEBUG
	bool
	default y

config NDEBUG
	bool
	default n if DEBUG

# Have a feature which is always enabled, to test properties inside features
config ALWAYS_ENABLED_FEATURE
	bool
	default y

config TARGET_CC_BINARY
	string
	default CLANG_CC_BINARY if TARGET_TOOLCHAIN_CLANG
	default GNU_CC_BINARY if TARGET_TOOLCHAIN_GNU

config TARGET_CXX_BINARY
	string
	default CLANG_CXX_BINARY if TARGET_TOOLCHAIN_CLANG
	default GNU_CXX_BINARY if TARGET_TOOLCHAIN_GNU

choice
	prompt "Host toolchain"
	default HOST_TOOLCHAIN_CLANG if TARGET_TOOLCHAIN_CLANG
	default HOST_TOOLCHAIN_GNU
	help
		A few different compilers are supported. They are classed by
		toolchain which allows a limited amount of flexibility to
		accommodate similar compilers.

		Select the compiler toolchain to be used when compiling for the host.

config HOST_TOOLCHAIN_CLANG
	bool "Clang"
	help
		Build with Clang toolchain.

		Linux support is still experimental, and requires the GNU
		assembler (as) and GNU archiver (ar)

config HOST_TOOLCHAIN_GNU
	bool "GNU"
	help
		Build with GNU toolchain.

config HOST_TOOLCHAIN_ARM
	bool "ARM"
	help
		Build with ARM toolchain.

endchoice

config HOST_CC_BINARY
	string
	default CLANG_CC_BINARY if HOST_TOOLCHAIN_CLANG
	default GNU_CC_BINARY if HOST_TOOLCHAIN_GNU
	default ARM_CC_BINARY if HOST_TOOLCHAIN_ARM

config HOST_CXX_BINARY
	string
	default CLANG_CXX_BINARY if HOST_TOOLCHAIN_CLANG
	default GNU_CXX_BINARY if HOST_TOOLCHAIN_GNU
	default ARM_CXX_BINARY if HOST_TOOLCHAIN_ARM
